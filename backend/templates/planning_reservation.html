<!DOCTYPE html>
<html lang="fr">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Planning - V√©hicule 5 | DriveGo</title>
    <link rel="stylesheet" href="{{ url_for('static', filename='CSS/planning_reservation.css') }}">

    
</head>
<body>
    <div class="planning-container">
        <div class="planning-header">
            <h1>üìÖ Planning - V√©hicule 5</h1>
            <div class="vehicle-info">
                <p>AB-005-CD ‚Ä¢ Syst√®me de r√©servation dynamique</p>
            </div>
        </div>


        
        <div class="calendar-controls">
            <div class="calendar-nav">
                <button class="nav-btn" onclick="previousPeriod()">‚Äπ Pr√©c√©dent</button>
                <div class="current-date" id="currentPeriod">Septembre 2025</div>
                <button class="nav-btn" onclick="nextPeriod()">Suivant ‚Ä∫</button>
                <button class="nav-btn" onclick="goToToday()">Aujourd'hui</button>
            </div>
            
            <div class="view-buttons">
                <button class="view-btn active" onclick="setView('week')" id="weekBtn">Semaine</button>
                <button class="view-btn" onclick="setView('day')" id="dayBtn">Jour</button>
                <button class="view-btn" onclick="setView('month')" id="monthBtn">Mois</button>
            </div>
        </div>
        
        <div class="calendar-container">
            <div id="calendar"></div>
            
            
            </div>
        </div>
        
        <div class="action-buttons">
            <button onclick="addNewReservation()" class="btn btn-primary">
                ‚ûï Nouvelle r√©servation
            </button>
            <a href="{{ url_for('gestion_vehicules') }}" class="btn btn-secondary">
                ‚Üê Retour aux v√©hicules
            </a>
            <button onclick="refreshCalendar()" class="btn btn-primary">
                üîÑ Actualiser
            </button>
        </div>
    </div>

    <!-- Modal de r√©servation -->
    <div class="reservation-modal" id="reservationModal">
        <div class="modal-content">
            <div class="modal-header">
                <h3>üìÖ Nouvelle r√©servation</h3>
                <button class="modal-close" onclick="closeReservationModal()">√ó</button>
            </div>
            
            <div class="modal-body">
                <form id="reservationForm" onsubmit="submitReservation(event)">
                    <input type="hidden" id="selectedDate" name="date">
                    <input type="hidden" name="vehicule_id" value="5">
                    
                    <div class="form-group">
                        <label>V√©hicule s√©lectionn√©</label>
                        <input type="text" value="V√©hicule 5 (AB-005-CD)" readonly>
                    </div>

                    <div class="form-group">
                        <label for="conducteur">Conducteur</label>
                        <input type="text" id="conducteur" name="conducteur" value="Jean Dupont" readonly style="background-color: #e0f2fe; border-color: #0288d1;">
                        <small style="color: #0288d1; font-size: 0.8rem;">üë§ Utilisateur connect√©</small>
                    </div>
                    
                    <div class="form-group">
                        <label>Date s√©lectionn√©e</label>
                        <input type="date" id="reservationDate" name="date_reservation" required>
                    </div>
                    
                    <div class="form-row">
                        <div class="form-group">
                            <label for="heureDebut">Heure de d√©but</label>
                            <input type="time" id="heureDebut" name="heure_debut" min="08:00" max="17:00" required>
                        </div>
                        <div class="form-group">
                            <label for="heureFin">Heure de fin</label>
                            <input type="time" id="heureFin" name="heure_fin" min="09:00" max="18:00" required>
                        </div>
                    </div>
                    
                    <div class="form-group">
                        <label for="motif">Nature de la mission</label>
                        <select id="motif" name="motif" required>
                            <option value="">S√©lectionner...</option>
                            <option value="autonomie">üõí Autonomie / Vie quotidienne</option>
                            <option value="culture">üé≠ Culture / √âducation</option>
                            <option value="loisirs">üå≥ Loisirs / Bien-√™tre</option>
                            <option value="sport">üèÄ Sport / Activit√© physique</option>
                            <option value="sante">üßò Sant√© / Th√©rapie / Sensoriel</option>
                            <option value="autre">‚úèÔ∏è Autre</option>
                        </select>
                    </div>
                    
                    <div class="form-group">
                        <label for="notes">Notes (optionnel)</label>
                        <textarea id="notes" name="notes" rows="3" placeholder="Pr√©cisions sur la r√©servation..."></textarea>
                    </div>
                    
                    <div class="action-buttons">
                        <button type="button" onclick="closeReservationModal()" class="btn btn-secondary">
                            Annuler
                        </button>
                        <button type="submit" class="btn btn-primary">
                            ‚úÖ Confirmer la r√©servation
                        </button>
                    </div>
                </form>
            </div>
        </div>
    </div>
    
    <script src="{{ url_for('static', filename='js/planning_reservation.js') }}"></script>
    
</body>
</html>